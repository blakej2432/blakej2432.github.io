---
layout: post
title: Django 장고 프로젝트의 기본 구조
date: 2024-08-07 22:55 +0900
categories:
  - Backend
  - Django
tags: 
math: true
---
## 애플리케이션 개발 패턴

**MVC** (Model-View-Controller) 패턴

- Model: 애플리케이션의 데이터 로직을 처리하는 파트
- View: 사용자 인터페이스, 사용자의 입력과 데이터 표시를 담당하는 파트
- Controller: Model과 View의 사이에서 사용자 요청 처리, 데이터 흐름 관리하는 파트

**MVT** (Model-View-Template) 패턴

- Model: 애플리케이션의 데이터 로직을 처리하는 파트
- View: MVC의 Controller에 해당, 사용자 요청 처리, 데이터 흐름 관리
- Template: MVC의 View에 해당, 인터페이스 구성, 데이터 표시


장고는 기본적으로 MVT 패턴으로 개발하는 프레임워크
파일구성

> settings.py

> models.py → M

> urls.py

> views.py → V

> templates → T

### Model Class 작성법

```python
class Post(models.Model):

	title = models.CharField(verbose_name="TITLE", max_length=50)
	author = ...
	...
	
		def __str__(self): # 객체를 반환할 때 title을 표시
			return self.title
			
		def get_absolute_url(self): # 객체의 절대 URL을 반환. URL 설정 변경에 유연하게 대응
			return reverse('blog:post_detail', args=(self.id,))
			
		def get_prev(self): # 현 객체보다 modify_dt가 이전인 객체 반환
			return self.get_previous_by_modify_dt()
		
		def get_next(self): # 현 객체보다 modify_dt가 이후인 객체 반환
			return self.get_next_by_modify_dt()
```

### Admin 시작

```python
@admin.register(Post) # 데코레이터로 등록하기
class PostAdmin(admin.ModelAdmin):
	list_display = ('id', 'title', 'modify_dt')
```


### urls.py

```python
urlpatterns = [
	path('post/list/', views.PostLV.as_view(), name='post_list')
]
```


### views.py

```python
class PostLV(ListView):
	model = Post
	template_name = 'blog/post_list.html' # default 생략 가능
	
```


### template

```html
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>post_detail.html</html>
</head>
<body>
this is post_detail.html
</body>
</html>
```


